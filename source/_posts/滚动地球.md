---
title: 滚动地球
date: 2021-12-14 22:11:16
categories:
    - Python数据分析
tags:
    - Python
    - 滚动地球
cover: /img/滚动地球.jpg
---
封面拍摄于2019年东，法国某高架桥处。当时本人从凌晨三点从荒无人烟的地方漫步，看见了日出的一幕。

很简单的小玩意儿，没什么太大含金量，老手可以直接划走。

首先代码运行环境Jupyter Notebook就不必要介绍了。方法比较简单，首先安装pyecharts==1.7.1及以上版本，新安装的小朋友们完全不必担心：
```
pip install pyecharts
```
之后步入正题，如下代码所示，

1. POPULATION导入的是全球各国人口数量，所以地球上不同颜色代表各个国家的人数多少,你也可以根据自己的喜好导入其他数据。

```
import pyecharts.options as opts
from pyecharts.charts import MapGlobe
from pyecharts.faker import POPULATION
data = [x for _, x in POPULATION[1:]]
low, high = min(data), max(data)
c = (
    MapGlobe(init_opts=opts.InitOpts())
    .add_schema()
    .add(
        maptype="world",
        series_name="World Population",
        data_pair=POPULATION[1:],
        is_map_symbol_show=False,
        label_opts=opts.LabelOpts(is_show=False),
    )
    .set_global_opts(
        visualmap_opts=opts.VisualMapOpts(
            min_=low,
            max_=high,
            range_text=["max", "min"],
            is_calculable=True,
            is_piecewise=True,
            range_color=["lightskyblue", "yellow", "orangered"],
        )
    )
)
c.render_notebook()
```
效果图（鼠标可以拖动，效果很爆炸，好吧，也就是一般爆炸）：
![1639491478(1)](https://user-images.githubusercontent.com/59725125/146015584-26180ef8-7b46-42fb-a656-5fc0f7682618.png)
2. 可以导入不同的主题，主题类型如下： 
  themes = [ ('chalk', '粉笔风'), ('dark', '暗黑风'), ('essos', '厄索斯大陆'), ('infographic', '信息图'), ('light', '明亮风格'), ('macarons', '马卡龙'), ('purple-passion', '紫色激情'), ('roma', '石榴'), ('romantic', '浪漫风'), ('shine', '闪耀风'), ('vintage', '复古风'), ('walden', '瓦尔登湖'), ('westeros', '维斯特洛大陆'), ('white', '洁白风'), ('wonderland', '仙境') ] 
3. LabelOpts 显示地图标签，把False改成True,国家名字就显示出来了
![1639493381(1)](https://user-images.githubusercontent.com/59725125/146021245-c681a3ae-2827-4731-bcd9-7a6d3b806510.png)
4. maptype 改变地图范围，把world改成china;同理，也可以制作只显示北京等各省市的地球图