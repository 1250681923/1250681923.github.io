{"title":"Kettle常用组件（未完待续）","uid":"bc0e74520de1a855f944e72794a846a0","slug":"可视化ETL工具Kettle4","date":"2022-02-18T08:20:51.000Z","updated":"2022-02-18T13:18:49.865Z","comments":true,"path":"api/articles/可视化ETL工具Kettle4.json","keywords":null,"cover":"/img/Kettle4.jpg","content":"<h2 id=\"六、常用组件\"><a href=\"#六、常用组件\" class=\"headerlink\" title=\"六、常用组件\"></a>六、常用组件</h2><h3 id=\"1、共享数据库连接\"><a href=\"#1、共享数据库连接\" class=\"headerlink\" title=\"1、共享数据库连接\"></a>1、共享数据库连接</h3><ul>\n<li>新建的数据库连接都只属于某一个转换程序</li>\n<li>如果你想让所有的转换程序都能使用这个连接，需要开启共享</li>\n</ul>\n<h3 id=\"2、表输入组件\"><a href=\"#2、表输入组件\" class=\"headerlink\" title=\"2、表输入组件\"></a>2、表输入组件</h3><ul>\n<li><p>需求：将t_user中的数据，同步到t_user1这张表中</p>\n</li>\n<li><p>分析</p>\n<ul>\n<li>这是一个转换任务</li>\n<li>输入：读取t_user表的数据</li>\n<li>转换：没有转换过程</li>\n<li>输出：将结果写入t_user1表中</li>\n</ul>\n</li>\n<li><p>实现</p>\n<ul>\n<li><p>开发程序</p>\n</li>\n<li><p>配置输入</p>\n<ul>\n<li>先配置数据库连接共享</li>\n</ul>\n</li>\n<li><p>配置输出</p>\n</li>\n<li><p>测试运行</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3、插入更新组件\"><a href=\"#3、插入更新组件\" class=\"headerlink\" title=\"3、插入更新组件\"></a>3、插入更新组件</h3><ul>\n<li><p>工作需求：将 A表的数据同步到B表中，保证B表的数据与A表的数据一致，实现是不断更新的操作</p>\n<ul>\n<li>A表发生了更新，更新的数据也会同步到B表中</li>\n<li>A表没有发生更新，即使程序运行，B表也不发生改变</li>\n<li>数据同步的过程<ul>\n<li>每次只同步更新的数据</li>\n<li>已经同步过的数据，就不会再进行同步</li>\n</ul>\n</li>\n<li>工作中一般一天会同步一次，程序就每天执行一次</li>\n</ul>\n</li>\n<li><p>解决：插入更新的输出组件</p>\n</li>\n<li><p>功能：只会同步发生更新的数据，已经同步过的数据不会再次同步</p>\n<ul>\n<li>数据更新<ul>\n<li>插入一条新的数据</li>\n<li>更改一条老的数据</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>实现：将t_user表的数据同步到t_user2中【任何的时刻，这两张表 数据同步时是一致的】</p>\n<ul>\n<li>开发转化 任务流程图</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>定义输入</li>\n</ul>\n<ul>\n<li>定义输出</li>\n</ul>\n<ul>\n<li><p>测试运行</p>\n</li>\n<li><p>如果修改了t_user的数据，重新执行程序，观察t_user2中的数据是否与t_user是一致的</p>\n<ul>\n<li><p>修改t_user的数据</p>\n</li>\n<li><p>重新运行程序</p>\n</li>\n<li><p>观察t_user2的数据</p>\n</li>\n</ul>\n</li>\n<li><p>同步业务</p>\n<ul>\n<li>全量：每次将所有的数据都同步一份<ul>\n<li>保证A和B是一致的<ul>\n<li>每次先删除B所有内容，然后，再同步</li>\n</ul>\n</li>\n<li>程序的性能比较差，数据量大了以后，非常慢，不建议使用</li>\n<li>表输出：全量的组件</li>\n</ul>\n</li>\n<li>增量：每次将发生更新的数据同步，没有发生更新就是已经同步过的数据不再同步<ul>\n<li>保证A和B是一致的</li>\n<li>工作中都使用增量的方式</li>\n<li>插入更新：增量的组件</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","feature":true,"text":"六、常用组件1、共享数据库连接 新建的数据库连接都只属于某一个转换程序 如果你想让所有的转换程序都能使用这个连接，需要开启共享 2、表输入组件 需求：将t_user中的数据，同步到t_user1这张表中 分析 这是一个转换任务 输入：读取t_user表的数据 转换：没有转换过程 ...","link":"","photos":[],"count_time":{"symbolsCount":784,"symbolsTime":"1 mins."},"categories":[{"name":"BI商业大数据分析平台搭建","slug":"BI商业大数据分析平台搭建","count":12,"path":"api/categories/BI商业大数据分析平台搭建.json"}],"tags":[{"name":"大数据分析","slug":"大数据分析","count":12,"path":"api/tags/大数据分析.json"},{"name":"BI平台","slug":"BI平台","count":12,"path":"api/tags/BI平台.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%85%AD%E3%80%81%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">六、常用组件</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1%E3%80%81%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">1、共享数据库连接</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2%E3%80%81%E8%A1%A8%E8%BE%93%E5%85%A5%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">2、表输入组件</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3%E3%80%81%E6%8F%92%E5%85%A5%E6%9B%B4%E6%96%B0%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">3、插入更新组件</span></a></li></ol></li></ol>","author":{"name":"Quanito","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"A little curious hunter","socials":{"github":"https://github.com/1250681923","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"GoogleMail":{"icon":"/img/googlemail.png","link":"mailto:code.quan666zhang@gmail.com"}}}},"mapped":true,"prev_post":{},"next_post":{"title":"十、Kettle使用案例1 - txt,Excel,mysql交互","uid":"22edba28105785f77edadf210806a5c5","slug":"可视化ETL工具Kettle3","date":"2022-02-18T07:30:59.000Z","updated":"2022-02-18T13:15:25.468Z","comments":true,"path":"api/articles/可视化ETL工具Kettle3.json","keywords":null,"cover":"/img/Kettle3.jpg","text":"txt与Excel交互1、需求 将txt文件中的数据写入Excel表格中 id,name,age,gender,province,city,region,phone,birthday,hobby,register_date 392456197008193000,张三,20,0,北...","link":"","photos":[],"count_time":{"symbolsCount":"2k","symbolsTime":"2 mins."},"categories":[{"name":"BI商业大数据分析平台搭建","slug":"BI商业大数据分析平台搭建","count":12,"path":"api/categories/BI商业大数据分析平台搭建.json"}],"tags":[{"name":"大数据分析","slug":"大数据分析","count":12,"path":"api/tags/大数据分析.json"},{"name":"BI平台","slug":"BI平台","count":12,"path":"api/tags/BI平台.json"}],"author":{"name":"Quanito","slug":"blog-author","avatar":"/img/avatar.jpg","link":"/","description":"A little curious hunter","socials":{"github":"https://github.com/1250681923","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"GoogleMail":{"icon":"/img/googlemail.png","link":"mailto:code.quan666zhang@gmail.com"}}}},"feature":true}}